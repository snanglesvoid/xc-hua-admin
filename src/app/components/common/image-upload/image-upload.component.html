<div class="box" #box>
  <div class="center">
    <svg
      class="box-icon"
      xmlns="http://www.w3.org/2000/svg"
      width="50"
      height="43"
      viewBox="0 0 50 43"
    >
      <path
        d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"
      ></path>
    </svg>
    <input
      #fileInput
      id="fileInput"
      type="file"
      (change)="imageChosen($event)"
    />
    <label for="fileInput">
      <strong>Choose a file</strong>
      <span> or drag it here</span>
    </label>
  </div>
  <img #image />

  <div class="loading" *ngIf="loading">
    <h3>
      Loading
    </h3>
    <app-progress-bar
      [progress]="info.uploadProgress"
      *ngIf="info.uploadProgress > 0"
    ></app-progress-bar>
  </div>
  <div class="info">
    <p
      [class.ok]="info.fileSize <= 1024 * 1024"
      [class.warning]="
        info.fileSize > 1024 * 1024 && info.fileSize <= 1024 * 1024 * 2
      "
      [class.danger]="info.fileSize > 1024 * 1024 * 2"
    >
      {{ info.fileSize | fileSize }}
    </p>
    <p [class.danger]="">{{ info.imageWidth }}x{{ info.imageHeight }} px</p>
  </div>
</div>

<button (click)="upload()" [class.disabled]="isButtonDisabled()">upload</button>
